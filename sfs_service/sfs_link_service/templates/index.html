<!DOCTYPE html>
<!--[if IE 8]> <html lang="en" class="ie8"> <![endif]-->
<!--[if IE 9]> <html lang="en" class="ie9"> <![endif]-->
<!--[if !IE]><!--> <html lang="en"> <!--<![endif]-->

<head>
    <title>LinkToKeep</title>
    <!-- Meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link rel="shortcut icon" href="favicon.ico">
    <link rel="stylesheet" href="https://getbootstrap.com/dist/css/bootstrap.min.css">

    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800' rel='stylesheet' type='text/css'>
    <!-- Global CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/plugins/bootstrap/css/bootstrap.min.css') }}"></script>
    <!-- Plugins CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/plugins/font-awesome/css/font-awesome.css') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/plugins/prism/prism.css') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/plugins/elegant_font/css/style.css') }}"></script>

    <!-- Theme CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='assets/css/styles.css') }}"></script>

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

</head>

<style>
        .breadcrumb > li + li::before {
            color: rgba(0, 0, 0, 0.4); !important
        }
        .breadcrumb > li + li::before {
            padding: 0 5px;
            color: #ccc;
            content: "/\00a0";}

        </style>
<body class="body-green">
    <div class="page-wrapper">
        <!-- ******Header****** -->
        <header id="header" class="header">
            <div class="container">
                <div class="branding">
                    <h1 class="logo">
                        <a href="index.html">
                            <span aria-hidden="true" class="icon_documents_alt icon"></span>
                            <span class="text-highlight">LinkTo</span><span class="text-bold">Keep</span>
                        </a>
                    </h1>
                </div><!--//branding-->
                <ol class="breadcrumb">
                    <li><a href="index.html">SFS Community</a></li>
                    <li class="active">SFS LinkToKeep Service</li>
                </ol>
            </div><!--//container-->
        </header><!--//header-->
        <div class="doc-wrapper">
            <div class="container">
                <div id="doc-header" class="doc-header text-center">
                    <h1 class="doc-title"><i class="icon_documents_alt icon"></i> LinkTo<b>Keep</b></h1>
                    <div class="meta"><i class="fa fa-clock-o"></i> Created Date: April 05th, 2018</div>
                </div><!--//doc-header-->
                <div class="doc-body">
                    <div class="doc-content">
                        <div class="content-inner">
                            <section id="download-section" class="doc-section">

                                    <div >
                                            <div class="form-group" style="">
                                                <form action="#" id="search_form">
                                                  <div class="form-row">
                                                    <div class="col">
                                                      <select class="form-control" id="sel2"  style="height: 100% !important;"                                                      >
                                                        <option  value="title">Title</option>
                                                        <option value="language">Language</option>
                                                        <option value="link">Link</option>
                                                      </select>
                                                    </div>
                                                    <div class="col">
                                                      <input type="text" id="content" class="form-control" placeholder="Data">
                                                    </div>
                                                    <button type="submit" class="btn btn-primary" style="background:#75c181">Search</button>

                                                  </div>
                                                </form>
                                            </div>
                                      </div>
                              <div class="row">
                              <div class="col-md-12">
                                  <div class="table-responsive">
                                      <table id="employees-grid"  class="table table-striped">
                                          <thead>
                                              <tr>
                                                  <th># ID</th>
                                                  <th>Title</th>
                                                  <th>Link</th>
                                                  <th>Language</th>

                                              </tr>
                                          </thead>



                                      </table>
                                  </div>
                              </div>
                              </div>

                            </section><!--//doc-section-->

                        </div><!--//content-inner-->
                    </div><!--//doc-content-->

                </div><!--//doc-body-->
            </div><!--//container-->
        </div><!--//doc-wrapper-->



    </div><!--//page-wrapper-->

    <footer id="footer" class="footer text-center">
        <div class="container">
            <!--/* This template is released under the Creative Commons Attribution 3.0 License. Please keep the attribution link below when using for your own project. Thank you for your support. :) If you'd like to use the template without the attribution, you can check out other license options via our website: themes.3rdwavemedia.com */-->
            <small class="copyright">Designed with <i class="fa fa-heart"></i> by <a href="http://themes.3rdwavemedia.com/" targe="_blank">Xiaoying Riley</a> for developers</small>

        </div><!--//container-->
    </footer><!--//footer-->


    <!-- Main Javascript -->


    <script type="text/javascript" href="{{ url_for('static', filename='assets/plugins/bootstrap/js/bootstrap.min.js') }}"></script>
    <script type="text/javascript" href="{{ url_for('static', filename='assets/plugins/jquery-1.12.3.min.js') }}"></script>
    <script type="text/javascript" href="{{ url_for('static', filename='assets/plugins/bootstrap/js/bootstrap.min.js') }}"></script>
    <script type="text/javascript" href="{{ url_for('static', filename='assets/plugins/prism/prism.js') }}"></script>
    <script type="text/javascript" href="{{ url_for('static', filename='assets/plugins/jquery-scrollTo/jquery.scrollTo.min.js') }}"></script>
    <script type="text/javascript" href="{{ url_for('static', filename='assets/js/main.js') }}"></script>
    <script type="text/javascript" href="{{ url_for('static', filename='assets/plugins/jquery-match-height/jquery.matchHeight-min.js') }}"></script>
    <script src="https://code.jquery.com/jquery-3.3.1.min.js"
  integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
  crossorigin="anonymous"></script>

    <script>
                $(document).ready(function() {

                $('#search_form').on('submit', function(event) {

                    $.ajax({
                        data : {
                            cat : $('#sel2').val(),
                            content : $('#content').val()
                        },
                        type : 'GET',
                        url : '/search'
                    })
                    .done(function(data) {
                        var search_html = " "
                        json = JSON.parse(data)
                        var length = 0;
                        for(var k in json) if(obj.hasOwnProperty(k)) length++;

                        for(var i = 0; i< length;i++){

                                search_html += "<tr><td>" + i +"</td><td>" +json[i]["title"] + "</td><td>" + json[i]["link"] + "</td><td>"+json[i]["language"] + "</td></tr>" ;

                        }
                        $("#employees-grid").empty();       
                        $("#employees-grid").append("<thead><tr><th># ID</th><th>Title</th><th>Link</th><th>Language</th></tr></thead>");
                        $("#employees-grid").append(search_html);



                    });


                });

                });



         var trHTML = " "
                    $.ajax({
                        type: 'GET',
                        url: '/links',
                        dataType: 'json',
                        crossDomain:true,
                        success: function (data) {
                                var json = data;
                                obj = JSON.parse(json);
                                var length = 0;
                                for(var k in obj) if(obj.hasOwnProperty(k)) length++;

                                for(i=0;i<length ;i++){
                                    console.log(obj[i]);
                                    trHTML += "<tr><td>" + i +"</td><td>"+obj[i]["title"] + "</td><td>" + obj[i]["link"] + "</td><td>"+obj[i]["language"] + "</td></tr>" ;

                                }
                                $("#employees-grid").append(trHTML);

                }
        });


    </script>
    <!--
                          $.each(obj,function(i,item){
                            trHTML += "<tr><td>" + obj[i].ns + "</td><td>" + obj[i].name + "</td><td>"+ obj[i].key._id  +"</td></tr>";
                        });
                         $("#table_id").append(trHTML); -->
</body>
</html>
